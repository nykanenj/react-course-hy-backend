{"version":3,"sources":["services/apiservice.js","components/Filter.js","components/Person.js","components/Persons.js","components/AddPersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseURL","apiservice","axios","get","then","response","data","newObject","post","id","delete","concat","put","Filter","_ref","expression","setExpression","react_default","a","createElement","value","onChange","event","target","Person","name","number","removeHandler","onClick","Persons","records","regExp","RegExp","filter","record","test","map","person","components_Person","key","AddPersonForm","addPerson","newName","setNewName","newNumber","setNewNumber","onSubmit","type","Notification","message","classNameProp","className","App","_useState","useState","_useState2","Object","slicedToArray","setRecords","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","text","class","_useState10","setMessage","useEffect","components_Notification","components_Filter","components_AddPersonForm","preventDefault","found","findIndex","e","newPerson","setTimeout","window","confirm","catch","components_Persons","existing","ReactDOM","render","src_App","document","getElementById"],"mappings":"6NAEMA,EAAU,eAWDC,EATA,kBAAMC,IAAMC,IAAIH,GAASI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QASnDL,EAPA,SAAAM,GAAS,OAAIL,IAAMM,KAAKR,EAASO,GAAWH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAOtEL,EALA,SAAAQ,GAAE,OAAIP,IAAMQ,OAAN,GAAAC,OAAgBX,EAAhB,KAAAW,OAA2BF,IAAML,KAAK,kBAAMK,KAKlDR,EAHA,SAACM,EAAWE,GAAZ,OAAmBP,IAAMU,IAAN,GAAAD,OAAaX,EAAb,KAAAW,OAAwBF,GAAMF,GAAWH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCYpFO,EApBF,SAAAC,GAAiC,IAA/BC,EAA+BD,EAA/BC,WAAYC,EAAmBF,EAAnBE,cAMzB,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,sBAEEF,EAAAC,EAAAC,cAAA,SACIC,MAAOL,EACPM,SAXiB,SAACC,GAC1BN,EAAcM,EAAMC,OAAOH,aCAlBI,EAHA,SAAAV,GAAA,IAAEW,EAAFX,EAAEW,KAAMC,EAARZ,EAAQY,OAAQjB,EAAhBK,EAAgBL,GAAIkB,EAApBb,EAAoBa,cAApB,OACXV,EAAAC,EAAAC,cAAA,eAAOM,EAAP,IAAcC,EAAd,IAAsBT,EAAAC,EAAAC,cAAA,UAAQS,QAAS,kBAAMD,EAAcF,EAAMhB,KAA3C,YAAtB,MCYaoB,EAZD,SAAAf,GAA0C,IAAxCgB,EAAwChB,EAAxCgB,QAASf,EAA+BD,EAA/BC,WAAYY,EAAmBb,EAAnBa,cAC7BI,EAAS,IAAIC,OAAOjB,EAAY,KAEtC,OACEE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,qBACCW,EAAQG,OAAO,SAAAC,GAAM,OAAIH,EAAOI,KAAKD,EAAOT,QAAOW,IAAI,SAAAC,GAAM,OAC5DpB,EAAAC,EAAAC,cAACmB,EAAD,CAAQC,IAAKF,EAAO5B,GAAIgB,KAAMY,EAAOZ,KAAMC,OAAQW,EAAOX,OAAQjB,GAAI4B,EAAO5B,GAAIkB,cAAeA,QC4B3Fa,EApCO,SAAA1B,GAAgE,IAA9D2B,EAA8D3B,EAA9D2B,UAAWC,EAAmD5B,EAAnD4B,QAASC,EAA0C7B,EAA1C6B,WAAYC,EAA8B9B,EAA9B8B,UAAWC,EAAmB/B,EAAnB+B,aAU/D,OACI5B,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,oCACAF,EAAAC,EAAAC,cAAA,QAAM2B,SAAUL,GAChBxB,EAAAC,EAAAC,cAAA,mBAEIF,EAAAC,EAAAC,cAAA,SACIC,MAAOsB,EACPrB,SAhBK,SAACC,GAClBqB,EAAWrB,EAAMC,OAAOH,WAkBpBH,EAAAC,EAAAC,cAAA,qBAEIF,EAAAC,EAAAC,cAAA,SACIC,MAAOwB,EACPvB,SAnBS,SAACC,GACtBuB,EAAavB,EAAMC,OAAOH,WAqBtBH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAQ4B,KAAK,UAAb,mBCjBDC,EAXM,SAAAlC,GAA8B,IAA5BmC,EAA4BnC,EAA5BmC,QAASC,EAAmBpC,EAAnBoC,cAE5B,OAAgB,OAAZD,EAAyB,KAGzBhC,EAAAC,EAAAC,cAAA,OAAKgC,UAAWD,GACXD,ICuEEG,EAxEH,WAAM,IAAAC,EACeC,mBAAS,IADxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRvB,EADQyB,EAAA,GACCG,EADDH,EAAA,GAAAI,EAEsBL,mBAAS,IAF/BM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAER5C,EAFQ6C,EAAA,GAEI5C,EAFJ4C,EAAA,GAAAC,EAGgBP,mBAAS,IAHzBQ,EAAAN,OAAAC,EAAA,EAAAD,CAAAK,EAAA,GAGRnB,EAHQoB,EAAA,GAGCnB,EAHDmB,EAAA,GAAAC,EAIoBT,mBAAS,IAJ7BU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAIRnB,EAJQoB,EAAA,GAIGnB,EAJHmB,EAAA,GAAAC,EAKeX,mBAAS,CAAEY,KAAM,KAAMC,MAAO,YAL7CC,EAAAZ,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAKRhB,EALQmB,EAAA,GAKCC,EALDD,EAAA,GAOhBE,oBAAU,WACRrE,IACCG,KAAK,SAAAC,GAAQ,OAAIqD,EAAWrD,MAC5B,IAkDH,OACEY,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACoD,EAAD,CAActB,QAASA,EAAQiB,KAAMhB,cAAeD,EAAQkB,QAC5DlD,EAAAC,EAAAC,cAACqD,EAAD,CAAQzD,WAAYA,EAAYC,cAAeA,IAC/CC,EAAAC,EAAAC,cAACsD,EAAD,CAAehC,UApDD,SAACnB,GACjBA,EAAMoD,iBACN,IAAMC,EAAQ7C,EAAQ8C,UAAU,SAAAC,GAAC,OAAIA,EAAEpD,OAASiB,IAC1CoC,EAAY,CAChBrD,KAAMiB,EACNhB,OAAQkB,IAEK,IAAX+B,EAiBJ1E,EAAkB6E,GACf1E,KAAK,SAAAC,GAAQ,OAAIqD,EAAW5B,EAAQnB,OAAON,MAC3CD,KAAK,WACJiE,EAAW,CAACH,KAAI,GAAAvD,OAAI+B,EAAJ,wBAAgCyB,MAAM,YACtDY,WAAW,kBAAMV,EAAW,CAAEH,KAAK,QAAS,KAC5CvB,EAAW,IACXE,EAAa,MAtBbmC,OAAOC,QAAP,GAAAtE,OAAkB+B,EAAlB,8CACAzC,EAAkB6E,EAAWhD,EAAQ6C,GAAOlE,IAC3CL,KAAK,SAAAC,GAAQ,OAAIqD,EAAW5B,EAAQM,IAAI,SAAAF,GAAM,OAAIA,EAAOzB,KAAOJ,EAASI,GAAKyB,EAAS7B,OACvFD,KAAK,WACJiE,EAAW,CAACH,KAAI,eAAAvD,OAAa+B,EAAb,0BAA2CyB,MAAO,YAClEY,WAAW,kBAAMV,EAAW,CAAEH,KAAK,QAAS,KAC5CvB,EAAW,IACXE,EAAa,MAEdqC,MAAM,WACLb,EAAW,CAACH,KAAI,GAAAvD,OAAI+B,EAAJ,oBAA+ByB,MAAM,UACrDY,WAAW,kBAAMV,EAAW,CAAEH,KAAK,QAAS,QAiCXxB,QAASA,EAASC,WAAYA,EAAYC,UAAWA,EAAWC,aAAcA,IACnH5B,EAAAC,EAAAC,cAACgE,EAAD,CAASpE,WAAYA,EAAYe,QAASA,EAASH,cAnBjC,SAACF,EAAMhB,GAC3BuE,OAAOC,QAAP,yCAAAtE,OAAqDc,EAArD,OACAxB,EAAkBQ,GACjBL,KAAK,SAAAK,GACJ,IAAM2E,EAAWtD,EAAQG,OAAO,SAAAC,GAAM,OAAIA,EAAOzB,KAAOA,IACxDiD,EAAW0B,KAEZhF,KAAK,WACJiE,EAAW,CAACH,KAAI,GAAAvD,OAAIc,EAAJ,wBAAgC0C,MAAM,YACtDY,WAAW,kBAAMV,EAAW,CAAEH,KAAK,QAAS,YC3DlDmB,IAASC,OAAOrE,EAAAC,EAAAC,cAACoE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.13bde3cc.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseURL = '/api/persons';\n\nconst getAll = () => axios.get(baseURL).then(response => response.data);\n\nconst create = newObject => axios.post(baseURL, newObject).then(response => response.data);\n\nconst remove = id => axios.delete(`${baseURL}/${id}`).then(() => id);\n\nconst update = (newObject, id) => axios.put(`${baseURL}/${id}`, newObject).then(response => response.data);\n\n\nexport default {\n    getAll,\n    create,\n    remove,\n    update,\n}\n","import React from 'react';\n\nconst Filter = ({expression, setExpression}) => {\n\n    const onExpressionChange = (event) => {\n      setExpression(event.target.value);\n    }\n    \n    return (\n      <div>\n        <h3>Suodata hakutuloksia</h3>\n        <div>\n          Suodata: \n          <input\n              value={expression}\n              onChange={onExpressionChange}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  export default Filter;","import React from 'react';\n\nconst Person = ({name, number, id, removeHandler}) => \n    <div> {name} {number} <button onClick={() => removeHandler(name, id)}> Poista </button> </div> ;\n\nexport default Person;","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({records, expression, removeHandler}) => {\n    const regExp = new RegExp(expression, 'i');\n\n    return (\n      <div>\n        <h3>Numerot</h3>\n        {records.filter(record => regExp.test(record.name)).map(person => \n          <Person key={person.id} name={person.name} number={person.number} id={person.id} removeHandler={removeHandler}/>)}\n      </div>\n    );\n  }\n\n  export default Persons;","import React from 'react';\n\nconst AddPersonForm = ({addPerson, newName, setNewName, newNumber, setNewNumber}) =>  {\n\n    const onNameChange = (event) => {\n        setNewName(event.target.value);\n      }\n    \n      const onNumberChange = (event) => {\n        setNewNumber(event.target.value);\n      }\n\n    return ( \n        <div>\n            <h3>Lisää henkilö</h3>  \n            <form onSubmit={addPerson}>\n            <div>\n                Nimi: \n                <input \n                    value={newName}\n                    onChange={onNameChange}\n                />\n            </div>\n            <div>\n                Numero: \n                <input \n                    value={newNumber}\n                    onChange={onNumberChange}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">Lisää</button>\n            </div>\n            </form>\n        </div>\n    );\n}\n\nexport default AddPersonForm;","import React from 'react';\n\n\nconst Notification = ({message, classNameProp}) => {\n\n    if (message === null) return null;\n\n    return ( \n        <div className={classNameProp}>\n            {message}\n        </div>\n    );\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\n\nimport apiservice from './services/apiservice';\nimport Filter from './components/Filter';\nimport Persons from './components/Persons';\nimport AddPersonForm from './components/AddPersonForm';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [ records, setRecords] = useState([]);\n  const [ expression, setExpression ] = useState('');\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ message, setMessage] = useState({ text: null, class: 'success'});\n\n  useEffect(() => {\n    apiservice.getAll()\n    .then(response => setRecords(response))\n  }, []);\n\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const found = records.findIndex(e => e.name === newName);\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    if (found !== -1) {\n        window.confirm(`${newName} already exists, update existing record?`) &&\n        apiservice.update(newPerson, records[found].id)\n        .then(response => setRecords(records.map(record => record.id !== response.id ? record : response)))\n        .then(() => {\n          setMessage({text:`Henkilön ${newName} tietoja päivitetty`, class: 'success'});\n          setTimeout(() => setMessage({ text:null }), 5000);\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(() => {\n          setMessage({text:`${newName} on jo poistettu`, class:'error'});\n          setTimeout(() => setMessage({ text:null }), 5000);\n        })\n        return;\n    }\n\n    apiservice.create(newPerson)\n      .then(response => setRecords(records.concat(response)))\n      .then(() => {\n        setMessage({text:`${newName} lisätty kantaan!`, class:'success'});\n        setTimeout(() => setMessage({ text:null }), 5000);\n        setNewName('');\n        setNewNumber('');\n      });\n  }\n\n  const removeHandler = (name, id) => {\n    window.confirm(`Haluatko varmasti poistaa henkilön ${name}?`) &&\n    apiservice.remove(id)\n    .then(id => {\n      const existing = records.filter(record => record.id !== id);\n      setRecords(existing);\n    })\n    .then(() => {   \n      setMessage({text:`${name} poistettu kannasta!`, class:'success'});\n      setTimeout(() => setMessage({ text:null }), 5000);\n    });\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={message.text} classNameProp={message.class} />\n      <Filter expression={expression} setExpression={setExpression}/>\n      <AddPersonForm addPerson={addPerson} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber}/>\n      <Persons expression={expression} records={records} removeHandler={removeHandler} />\n    </div>\n  );\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}